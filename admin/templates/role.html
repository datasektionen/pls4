{{ block "role-name" . }}
<h1
    class="text-3xl font-bold"
    {{ if .CanUpdate }}
        hx-get="/role/name?id={{ .ID }}"
        hx-swap="outerHTML"
        hx-target="this"
    {{ end }}
>
    {{ .DisplayName }}
    {{ if .CanUpdate }}
        <i class="fa-regular fa-pen-to-square"></i>
    {{ end }}
</h1>
{{ end }}
{{ define "role-edit-name" }}
<form
    class="text-3xl"
    hx-post="/role/name?id={{ .ID }}"
    hx-swap="outerHTML"
    hx-target="this"
>
    <input name="display-name" type="text" value="{{ .DisplayName }}" />
    <input class="bg-blue-300 p-2 rounded-sm" type="submit" value="Save" />
</form>
{{ end }}

{{ block "role-description" . }}
<p
    class="p-2"
    {{ if .CanUpdate }}
        hx-get="/role/description?id={{ .ID }}"
        hx-swap="outerHTML"
        hx-target="this"
    {{ end }}
>
    {{ .Description }}
    {{ if .CanUpdate }}
        <i class="fa-regular fa-pen-to-square"></i>
    {{ end }}
</p>
{{ end }}
{{ define "role-edit-description" }}
<form
    hx-post="/role/description?id={{ .ID }}"
    hx-swap="outerHTML"
    hx-target="this"
>
    <textarea required class="p-2 w-96" name="description">{{ .Description }}</textarea>
    <input class="block bg-blue-300 p-1 rounded-sm" type="submit" value="Save" />
</form>
{{ end }}

<h2 class="text-xl">Sub-roles</h2>
{{ template "subroles.html" . }}

<h2 class="text-xl">Members</h2>
<section class="grid grid-cols-3 gap-2 items-center p-3">
    <p class="font-bold">Name</p>
    <p class="font-bold">Date range</p>
    <p class="font-bold">Comment</p>
    {{ range .Members }}
        {{ if .Indirect }}
            <hr class="col-span-3">
            <span>{{ .KTHID }}</span>
            <span></span>
            <span></span>
        {{ else }}
            <hr class="col-span-3">
            <span class="font-bold">{{ .KTHID }}</span>
            <span>{{ date .StartDate }} - {{ date .EndDate }}</span>
            <span>{{ .Comment }}</span>
        {{ end }}
    {{ end }}
</section>
